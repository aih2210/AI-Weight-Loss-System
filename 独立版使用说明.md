# AI减重助手 - 独立版使用说明

## 🌟 版本特色

**独立版**是一个完全离线可用的PWA应用，所有数据存储在本地，无需依赖服务器。

### 核心优势

- ✅ **完全离线** - 无需网络连接即可使用
- ✅ **数据持久化** - 所有记录自动保存到本地
- ✅ **隐私保护** - 数据只存储在你的设备上
- ✅ **PWA支持** - 可安装到主屏幕，像原生App一样使用
- ✅ **数据导出** - 随时备份你的所有数据
- ✅ **跨设备同步** - 通过导出/导入实现数据迁移

## 📱 访问方式

### 方式1：局域网访问（推荐）

1. 确保手机和电脑连接同一WiFi
2. 在手机浏览器输入：`http://172.20.10.6:8080/standalone-app.html`
3. 首次访问会自动初始化数据

### 方式2：安装为PWA应用

**iOS (Safari):**
1. 打开独立版链接
2. 点击底部分享按钮 📤
3. 选择"添加到主屏幕"
4. 点击"添加"

**Android (Chrome):**
1. 打开独立版链接
2. 点击右上角菜单 ⋮
3. 选择"安装应用"或"添加到主屏幕"
4. 点击"安装"

安装后可以完全离线使用！

## 🎯 功能详解

### 1. 首页 📊

**显示内容：**
- 当前体重和减重进度
- 今日卡路里摄入/消耗统计
- 连续打卡天数
- AI智能建议

**操作：**
- 点击"当前体重"卡片可更新体重
- 所有数据实时从本地存储读取

### 2. 饮食管理 🍽️

**功能：**
- 📸 拍照识别食物
- 👨‍🍳 AI食谱生成
- ✏️ 手动输入饮食
- 查看今日用餐记录

**拍照识别流程：**
1. 点击"拍照识别食物"
2. 开启摄像头或从相册选择
3. AI识别食物和营养成分
4. 调整份量
5. 保存记录（自动存储到本地）

**AI食谱生成：**
1. 输入想吃的食物（如"炸鸡"）
2. 设置目标卡路里
3. 选择饮食偏好
4. AI生成健康替代方案
5. 可收藏食谱

### 3. 运动管理 💪

**功能：**
- 查看今日运动目标
- 查看运动计划
- 标记完成状态
- 统计消耗卡路里

### 4. 个人中心 👤

**个人资料：**
- 姓名、年龄、性别、身高
- 连续打卡天数
- 已减重量
- 使用天数

**数据管理：**
- 📥 导出数据 - 下载JSON备份文件
- 📤 导入数据 - 从备份恢复
- 🗑️ 清除数据 - 重置到初始状态

**关于应用：**
- 查看版本信息
- 了解核心功能
- 使用提示

## 💾 数据管理

### 自动保存

所有操作都会自动保存到浏览器的localStorage中：
- 体重记录
- 饮食记录
- 运动记录
- 情绪记录
- 收藏的食谱
- 个人设置

### 导出数据

1. 进入"个人中心"
2. 点击"数据管理"
3. 点击"导出数据"按钮
4. 下载JSON格式的备份文件

**导出内容包括：**
- 用户信息
- 体重历史
- 所有饮食记录
- 所有运动记录
- 所有情绪记录
- 收藏的食谱
- 应用设置

### 导入数据

1. 进入"个人中心-数据管理"
2. 点击"导入数据"按钮
3. 选择之前导出的JSON文件
4. 确认导入

**用途：**
- 更换设备时迁移数据
- 恢复误删的数据
- 在多个设备间同步数据

### 清除数据

1. 进入"个人中心-数据管理"
2. 点击"清除所有数据"按钮
3. 确认操作
4. 应用恢复到初始状态

⚠️ **注意：** 清除操作不可恢复，建议先导出备份！

## 🔒 隐私与安全

### 数据存储位置

所有数据存储在：
- **浏览器localStorage** - 本地存储
- **不上传到服务器** - 完全离线
- **不收集个人信息** - 隐私保护

### 数据安全

- ✅ 数据只存在你的设备上
- ✅ 不会被第三方访问
- ✅ 清除浏览器数据会删除记录
- ✅ 建议定期导出备份

## 📊 数据结构

应用使用以下数据结构：

```json
{
  "user": {
    "name": "用户",
    "age": 30,
    "gender": "male",
    "height": 170,
    "currentWeight": 56,
    "targetWeight": 50,
    "startWeight": 60,
    "startDate": "2024-12-05"
  },
  "weightHistory": [
    { "weight": 60, "date": "2024-12-05", "timestamp": 1733385600000 }
  ],
  "foodLogs": [
    {
      "id": 1733472000000,
      "name": "鸡胸肉",
      "calories": 248,
      "protein": 47,
      "carbs": 0,
      "fat": 5,
      "portion": 150,
      "meal": "午餐",
      "date": "2024-12-06",
      "timestamp": 1733472000000
    }
  ],
  "exerciseLogs": [],
  "emotionLogs": [],
  "recipes": [],
  "settings": {
    "dailyCalorieTarget": 1500,
    "dailyExerciseTarget": 300,
    "reminderEnabled": true
  }
}
```

## 🚀 使用技巧

### 1. 每日打卡

- 每天至少记录一次饮食或运动
- 保持连续打卡，养成习惯
- 查看首页的连续打卡天数

### 2. 定期更新体重

- 建议每周固定时间称重
- 点击首页"当前体重"卡片更新
- 查看体重历史趋势

### 3. 使用情绪记录

- 感到进食欲望时记录情绪
- AI会分析你的情绪模式
- 获得个性化干预建议

### 4. 定期备份数据

- 建议每周导出一次数据
- 保存备份文件到云盘
- 更换设备前务必备份

### 5. 离线使用

- 安装为PWA后可完全离线
- 所有功能都可正常使用
- 数据自动保存到本地

## ❓ 常见问题

### Q: 数据会丢失吗？

A: 数据存储在浏览器localStorage中，只要不清除浏览器数据就不会丢失。建议定期导出备份。

### Q: 可以在多个设备使用吗？

A: 可以！通过"导出数据"和"导入数据"功能在设备间迁移数据。

### Q: 需要网络连接吗？

A: 首次访问需要网络加载页面，之后可以完全离线使用（安装为PWA后）。

### Q: 数据安全吗？

A: 非常安全！所有数据只存储在你的设备上，不会上传到任何服务器。

### Q: 如何更换设备？

A: 在旧设备导出数据，在新设备导入即可。

### Q: 误删数据怎么办？

A: 如果有备份文件，可以通过"导入数据"恢复。没有备份则无法恢复。

## 🆚 版本对比

| 功能 | 独立版 | 完整功能版 | 简洁版 |
|------|--------|-----------|--------|
| 数据持久化 | ✅ | ❌ | ❌ |
| 离线使用 | ✅ | ❌ | ❌ |
| 数据导出 | ✅ | ❌ | ❌ |
| 拍照识别 | ✅ | ✅ | ❌ |
| AI食谱 | ✅ | ✅ | ❌ |
| 情绪管理 | ✅ | ✅ | ❌ |
| 运动追踪 | ✅ | ✅ | ✅ |
| 数据统计 | ✅ | ✅ | ✅ |

**推荐使用独立版！**

## 📞 技术支持

如有问题，请检查：
1. 浏览器是否支持localStorage
2. 是否允许浏览器存储数据
3. 浏览器版本是否过旧

建议使用：
- iOS: Safari 14+
- Android: Chrome 90+
- 其他现代浏览器

---

**享受你的减重之旅！** 🏃‍♀️💪
