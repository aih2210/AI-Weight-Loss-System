# ⚡ 快速启动 - Web版

## 🚀 一键启动

### 1. 启动后端服务器

```bash
cd backend
双击 start-server.bat
```

或手动启动：
```bash
cd backend
python main.py
```

### 2. 访问系统

启动成功后，浏览器访问：

- **主页**：http://localhost:8000/
- **登录页面**：http://localhost:8000/login.html
- **API文档**：http://localhost:8000/docs

---

## 📱 使用流程

### 首次使用

1. **访问主页** → http://localhost:8000/
2. **看到未登录提示** → 显示"欢迎来到AI减重系统"
3. **点击"注册账户"** → 跳转到注册页面
4. **填写注册信息**：
   - 用户名
   - 邮箱
   - 密码（至少6位）
   - 确认密码
5. **点击"注册"** → 自动登录并跳转到主页
6. **开始使用** → 查看功能卡片

### 已有账户

1. **访问主页** → http://localhost:8000/
2. **点击"立即登录"** → 跳转到登录页面
3. **输入用户名和密码**
4. **点击"登录"** → 跳转到主页
5. **开始使用**

---

## 🎯 主要功能

### 登录后可以看到：

1. **顶部导航栏**
   - 显示用户头像和名字
   - 退出登录按钮

2. **欢迎卡片**
   - 个性化问候
   - 今日提示

3. **功能卡片**（6个）
   - 📊 数据看板
   - 🥗 饮食管理
   - 💪 运动计划
   - 🤖 AI助手
   - 🧠 代谢分析
   - ⚙️ 个人设置

---

## 🔐 登录状态管理

### 自动检测
- 页面加载时自动检查登录状态
- Token有效 → 显示用户内容
- Token无效/不存在 → 显示登录提示

### Token存储
- 使用localStorage存储访问令牌
- 自动在API请求中携带Token
- 退出登录时自动清除Token

### 安全特性
- Token过期时间：30分钟
- 密码bcrypt加密
- JWT签名验证

---

## 🎨 界面特点

### 未登录状态
```
┌─────────────────────────────────────┐
│  🌟 AI减重系统    [登录] [注册]     │
├─────────────────────────────────────┤
│                                     │
│           🔐                        │
│     欢迎来到AI减重系统               │
│                                     │
│  请先登录或注册账户，开始您的健康减重之旅│
│                                     │
│    [立即登录]  [注册账户]           │
│                                     │
└─────────────────────────────────────┘
```

### 已登录状态
```
┌─────────────────────────────────────┐
│  🌟 AI减重系统    👤 张三  [退出]   │
├─────────────────────────────────────┤
│                                     │
│  你好，张三！👋                      │
│  欢迎回来！让我们一起开始今天的健康之旅│
│                                     │
├─────────────────────────────────────┤
│  📊 数据看板    🥗 饮食管理          │
│  💪 运动计划    🤖 AI助手            │
│  🧠 代谢分析    ⚙️ 个人设置          │
└─────────────────────────────────────┘
```

---

## 🔧 常见问题

### 1. 看不到登录按钮？
**原因**：页面还在加载中

**解决**：
- 等待几秒钟
- 刷新页面（F5）
- 检查后端服务器是否启动

### 2. 点击登录没反应？
**原因**：后端服务器未启动

**解决**：
```bash
cd backend
python main.py
```

### 3. 登录后立即退出？
**原因**：Token验证失败

**解决**：
- 清除浏览器缓存
- 重新注册/登录
- 检查后端SECRET_KEY配置

### 4. 注册提示用户名已存在？
**原因**：该用户名已被注册

**解决**：
- 更换用户名
- 或直接登录

### 5. 功能卡片点击没反应？
**原因**：功能页面尚未开发

**解决**：
- 这是正常的，会提示"功能开发中"
- 后续版本会添加完整功能

---

## 📊 API测试

### 使用Swagger文档测试

1. 访问：http://localhost:8000/docs
2. 展开接口
3. 点击"Try it out"
4. 填写参数
5. 点击"Execute"
6. 查看响应

### 测试注册接口

```bash
POST http://localhost:8000/api/users/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123"
}
```

### 测试登录接口

```bash
POST http://localhost:8000/api/users/login
Content-Type: application/x-www-form-urlencoded

username=testuser&password=password123
```

### 测试获取用户信息

```bash
GET http://localhost:8000/api/users/me
Authorization: Bearer <your_token>
```

---

## 🎯 下一步

### 开发计划
1. ✅ 用户认证系统
2. ✅ 登录/注册界面
3. ✅ 主页和导航
4. ⏳ 数据看板页面
5. ⏳ 饮食管理页面
6. ⏳ 运动计划页面
7. ⏳ AI助手页面
8. ⏳ 代谢分析页面
9. ⏳ 个人设置页面

### 功能增强
- [ ] 记住登录状态
- [ ] 忘记密码功能
- [ ] 邮箱验证
- [ ] 第三方登录
- [ ] 用户头像上传
- [ ] 个人资料完善

---

## 💡 提示

### 开发模式
- 后端自动重载（修改代码后自动重启）
- 前端直接刷新即可看到更改
- 使用浏览器开发者工具调试

### 生产部署
- 更改SECRET_KEY
- 使用HTTPS
- 配置域名
- 使用PostgreSQL
- 添加日志监控

---

## 📞 技术支持

### 查看日志
- 后端日志：控制台输出
- 前端日志：浏览器Console（F12）

### 数据库
- 位置：`backend/weight_loss.db`
- 类型：SQLite
- 查看工具：DB Browser for SQLite

### 端口占用
- 后端：8000
- 如需更改：修改`main.py`中的port参数

---

**版本**：v1.0
**更新时间**：2025-12-27
**状态**：✅ 可用
