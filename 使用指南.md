# 📖 AI减重系统使用指南

## 🎯 系统概述

这是一个完整的AI驱动智能减重解决方案，包含后端API、Web前端和移动App。

## 🚀 快速开始

### 1. 后端服务（已启动✅）

后端服务正在运行：http://localhost:8000

**访问方式：**
- 🌐 API文档：http://localhost:8000/docs
- 🧪 测试页面：双击 `test_api.html`
- ❤️ 健康检查：http://localhost:8000/health

### 2. 移动App演示（立即可用✅）

**双击打开：** `mobile-app-demo.html`

无需安装任何软件，直接在浏览器中体验完整的移动端界面。

## 📱 核心功能

### 1️⃣ 个性化代谢建模

**功能：**
- 基础代谢率(BMR)预测
- 体重变化趋势预测
- 平台期自动检测

**API示例：**
```bash
POST /api/metabolism/predict-bmr
{
  "user_id": "user123",
  "weight": 70,
  "height": 170,
  "age": 30,
  "gender": "male"
}
```

### 2️⃣ 智能饮食管理

**功能：**
- 食物营养查询（内置10+常见食物）
- 图像识别（模拟）
- 情绪性进食分析
- AI食谱生成

**内置食物库：**
- 鸡胸肉、糙米饭、西兰花
- 鸡蛋、燕麦、牛奶
- 苹果、香蕉、三文鱼、豆腐

**API示例：**
```bash
POST /api/diet/log-food
{
  "user_id": "user123",
  "food_name": "鸡胸肉",
  "calories": 165,
  "meal_type": "lunch"
}
```

### 3️⃣ 自适应运动教练

**功能：**
- 个性化运动计划生成
- 运动依从性分析
- 最小可行方案（5分钟运动）
- 强度自动调整

**运动类型：**
- 有氧：快走、慢跑、跑步、游泳、骑行
- 力量：深蹲、俯卧撑、平板支撑、哑铃
- 柔韧：瑜伽、拉伸

**API示例：**
```bash
POST /api/exercise/generate-plan
{
  "user_id": "user123",
  "fitness_level": "beginner",
  "preferences": ["cardio"],
  "available_time": 30,
  "equipment": []
}
```

### 4️⃣ 智能推荐系统（新增✨）

**功能：**
- 每日个性化建议
- 膳食计划生成
- 进度分析报告
- 成就系统

**API示例：**
```bash
POST /api/recommendations/daily
{
  "user_id": "user123",
  "current_weight": 70.5,
  "target_weight": 65,
  "today_calories": 1200,
  "today_exercise": 300
}
```

## 🎨 移动App功能

### 首页
- 📊 体重趋势图（7天数据）
- 🎯 目标进度条
- 🔥 今日摄入/消耗统计
- 🤖 AI智能建议

### 饮食管理
- 📸 拍照识别（模拟）
- 📊 营养成分分析
- 🍽️ 用餐记录
- 👨‍🍳 AI食谱推荐

### 运动计划
- 💪 今日计划列表
- ✅ 运动打卡
- 📈 卡路里统计
- 🏃 强度分级

### 个人中心
- 👤 用户资料
- 🏆 成就统计
- ⚙️ 设置选项

## 🔧 高级功能

### 情绪管理

记录进食时的情绪，系统会分析模式并提供干预建议：

```bash
POST /api/diet/log-emotion
{
  "user_id": "user123",
  "emotion": "stress",
  "overeating": true,
  "notes": "工作压力大"
}
```

### 社交场景适应

获取聚餐场景的饮食建议：

```bash
POST /api/diet/suggest-restaurant
{
  "restaurant_type": "中餐",
  "calorie_target": 600
}
```

### 平台期突破

系统自动检测平台期并提供建议：

```bash
POST /api/metabolism/detect-plateau
{
  "user_id": "user123",
  "weight_history": [70.5, 70.4, 70.5, 70.3, 70.4, 70.5, 70.4]
}
```

## 📊 数据分析

### 仪表盘

获取用户完整数据：

```bash
GET /api/analytics/dashboard/user123
```

返回：
- 体重趋势
- 卡路里趋势
- 运动总结
- 成就列表

### 进度报告

```bash
GET /api/analytics/progress/user123?start_date=2025-01-01&end_date=2025-01-31
```

## 💡 使用技巧

### 1. 设定合理目标
- 每周减重0.5-1kg为宜
- 避免过度节食
- 关注健康而非数字

### 2. 坚持记录
- 每日记录饮食和运动
- 定期测量体重
- 记录情绪变化

### 3. 利用AI建议
- 查看每日推荐
- 尝试AI生成的食谱
- 跟随个性化运动计划

### 4. 突破平台期
- 改变运动类型
- 调整饮食结构
- 保证充足睡眠

## 🎓 API文档

完整的API文档：http://localhost:8000/docs

包含：
- 所有接口说明
- 参数定义
- 示例请求
- 在线测试功能

## ❓ 常见问题

**Q: 如何开始使用？**
A: 打开 `mobile-app-demo.html` 立即体验，或访问 http://localhost:8000/docs 查看API文档。

**Q: 食物识别准确吗？**
A: 当前是模拟识别，实际应用需接入专业的食物识别API（如Google Vision API）。

**Q: 可以自定义食物吗？**
A: 可以通过 `/api/diet/log-food` 接口手动添加任何食物及其营养信息。

**Q: 运动计划如何调整？**
A: 系统会根据你的完成情况和反馈自动调整强度和时长。

**Q: 数据存储在哪里？**
A: 当前版本数据在内存中，重启后清空。生产环境需配置PostgreSQL数据库。

## 🔐 隐私说明

- 所有数据仅用于个人减重管理
- 不会分享给第三方
- 可随时导出或删除数据

## 📞 技术支持

如有问题，请查看：
- 📚 项目总览：`项目总览.md`
- 🚀 启动说明：`启动说明.md`
- 📖 API文档：http://localhost:8000/docs

## 🎉 开始你的减重之旅！

现在就打开 `mobile-app-demo.html` 开始体验吧！
