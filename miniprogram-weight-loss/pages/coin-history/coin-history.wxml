<!--pages/coin-history/coin-history.wxml-->
<view class="container">
  <!-- ç­›é€‰æ ‡ç­¾ -->
  <view class="filter-tabs">
    <view 
      class="filter-item {{filterType === 'all' ? 'active' : ''}}"
      bindtap="switchFilter"
      data-type="all">
      å…¨éƒ¨
    </view>
    <view 
      class="filter-item {{filterType === 'earn' ? 'active' : ''}}"
      bindtap="switchFilter"
      data-type="earn">
      æ”¶å…¥
    </view>
    <view 
      class="filter-item {{filterType === 'spend' ? 'active' : ''}}"
      bindtap="switchFilter"
      data-type="spend">
      æ”¯å‡º
    </view>
  </view>

  <!-- å†å²è®°å½•åˆ—è¡¨ -->
  <view class="history-list">
    <view class="history-item" wx:for="{{filteredHistory}}" wx:key="timestamp">
      <view class="history-left">
        <view class="history-icon {{item.type}}">
          <text wx:if="{{item.type === 'earn'}}">ğŸ“¥</text>
          <text wx:else>ğŸ“¤</text>
        </view>
        <view class="history-info">
          <view class="history-reason">{{item.reason}}</view>
          <view class="history-time">{{item.timestamp}}</view>
        </view>
      </view>
      <view class="history-right">
        <view class="history-amount {{item.type}}">
          {{item.type === 'earn' ? '+' : '-'}}{{item.amount}}
        </view>
        <view class="history-balance">ä½™é¢: {{item.balance}}</view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{filteredHistory.length === 0}}" class="empty-state">
    <view class="empty-icon">ğŸ“Š</view>
    <view class="empty-text">æš‚æ— è®°å½•</view>
  </view>
</view>
