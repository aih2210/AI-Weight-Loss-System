# ⚡ 腾讯地图快速配置指南

## 🎯 5分钟完成配置

---

## 步骤1：申请API Key（2分钟）

### 1.1 访问腾讯位置服务

```
https://lbs.qq.com/
```

### 1.2 注册登录

- 使用QQ或微信扫码登录
- 首次登录需要完成实名认证

### 1.3 创建应用

1. 进入控制台
2. 点击"应用管理" → "我的应用"
3. 点击"创建应用"
4. 填写信息：
   - 应用名称：`AI减重助手`
   - 应用类型：`微信小程序`

### 1.4 添加Key

1. 在应用中点击"添加Key"
2. 填写信息：
   - Key名称：`小程序Key`
   - 勾选：`WebServiceAPI`
3. 点击"提交"
4. **复制生成的Key**（重要！）

---

## 步骤2：下载SDK（1分钟）

### 2.1 访问SDK下载页

```
https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview
```

### 2.2 下载文件

- 点击"下载SDK"
- 下载 `qqmap-wx-jssdk.min.js`
- 或下载完整SDK包

### 2.3 放置文件

将下载的文件重命名并放到：
```
miniprogram-weight-loss/utils/qqmap-wx-jssdk.js
```

**注意：** 文件名必须是 `qqmap-wx-jssdk.js`

---

## 步骤3：配置Key（1分钟）

### 3.1 打开配置文件

```
miniprogram-weight-loss/config/map.js
```

### 3.2 修改配置

```javascript
module.exports = {
  // 粘贴你的Key
  qqmapKey: 'XXXXX-XXXXX-XXXXX-XXXXX-XXXXX',  // ⬅️ 替换这里
  
  // 启用真实API
  useRealAPI: true,  // ⬅️ 改为 true
  
  defaultConfig: {
    radius: 2000,
    pageSize: 20,
    autoSearch: true
  }
};
```

### 3.3 保存文件

按 `Ctrl + S` 保存

---

## 步骤4：测试功能（1分钟）

### 4.1 重新编译

在微信开发者工具中：
1. 点击"编译"按钮
2. 等待编译完成

### 4.2 测试搜索

1. 打开"聚餐助手"页面
2. 点击"获取位置"
3. 允许位置权限
4. 点击"搜索附近健康餐厅"
5. 查看真实餐馆列表

### 4.3 测试导航

1. 点击任意餐馆
2. 点击"🗺️ 导航"按钮
3. 查看是否打开地图

---

## ✅ 配置完成！

如果看到真实餐馆列表，说明配置成功！

---

## 🐛 遇到问题？

### 问题1：搜索失败

**检查清单：**
- [ ] Key是否正确复制（没有多余空格）
- [ ] SDK文件是否存在
- [ ] `useRealAPI` 是否设为 `true`
- [ ] 网络是否正常

### 问题2：SDK加载失败

**解决方案：**
1. 确认文件路径：`utils/qqmap-wx-jssdk.js`
2. 确认文件名正确
3. 重新下载SDK
4. 重启开发者工具

### 问题3：位置获取失败

**解决方案：**
1. 检查位置权限
2. 在真机上测试
3. 使用模拟位置

---

## 📝 配置检查表

完成以下检查：

- [ ] 已申请腾讯地图API Key
- [ ] 已下载SDK文件
- [ ] SDK文件放在正确位置
- [ ] 已配置Key到 `config/map.js`
- [ ] `useRealAPI` 设为 `true`
- [ ] 已重新编译小程序
- [ ] 测试搜索功能正常
- [ ] 测试导航功能正常

---

## 💡 快速切换模式

### 使用真实地图

```javascript
// config/map.js
useRealAPI: true
```

### 使用模拟数据

```javascript
// config/map.js
useRealAPI: false
```

---

## 📞 获取帮助

### 官方文档

- 腾讯位置服务：https://lbs.qq.com/
- SDK文档：https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview
- 微信小程序文档：https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.openLocation.html

### 常见问题

查看详细文档：
```
🗺️真实地图导航功能完成.md
```

---

**🎉 配置完成后，就可以使用真实地图导航功能了！**

**创建时间**：2025年12月27日
