# 💰 健康币激励系统

## 📋 系统概述

健康币激励系统是一个完整的用户激励机制，通过打卡、运动、饮食记录等健康行为赚取健康币，然后使用"健康币+现金"的组合支付方式，以优惠价格购买九安医疗的产品。

## 🎯 核心功能

### 1. 健康币获取

#### 每日任务
- **每日签到**: 10健康币
- **完成运动**: 15健康币
- **饮食记录**: 8健康币（健康饮食12币）
- **体重记录**: 5健康币

#### 连续签到奖励
- **连续3天**: 额外20健康币
- **连续7天**: 额外50健康币
- **连续30天**: 额外200健康币

#### 其他奖励
- **达成体重目标**: 100健康币
- **分享进度**: 10健康币
- **帮助他人**: 15健康币
- **阅读文章**: 5健康币
- **完成测验**: 20健康币

### 2. 健康商城

#### 九安医疗产品
所有商品均为九安医疗正品，支持健康币抵扣：

1. **九安电子血压计**
   - 市场价: ¥299
   - 现金价: ¥199
   - 健康币: 500个
   - 优惠: 健康币抵扣100元

2. **九安血糖仪套装**
   - 市场价: ¥399
   - 现金价: ¥249
   - 健康币: 800个
   - 优惠: 健康币抵扣150元

3. **九安红外体温计**
   - 市场价: ¥159
   - 现金价: ¥99
   - 健康币: 300个
   - 优惠: 健康币抵扣60元

4. **九安智能体脂秤**
   - 市场价: ¥199
   - 现金价: ¥129
   - 健康币: 400个
   - 优惠: 健康币抵扣70元

5. **九安颈椎按摩器**
   - 市场价: ¥299
   - 现金价: ¥199
   - 健康币: 500个
   - 优惠: 健康币抵扣100元

6. **九安腕式血压计**
   - 市场价: ¥249
   - 现金价: ¥159
   - 健康币: 400个
   - 优惠: 健康币抵扣90元

7. **九安血糖试纸（100片）**
   - 市场价: ¥199
   - 现金价: ¥149
   - 健康币: 300个
   - 优惠: 健康币抵扣50元

8. **九安足底按摩器**
   - 市场价: ¥399
   - 现金价: ¥269
   - 健康币: 700个
   - 优惠: 健康币抵扣130元

### 3. 订单管理

- 查看订单状态（待发货、已发货、已送达、已完成）
- 取消订单（仅限待发货状态）
- 健康币自动退回
- 订单详情查看

### 4. 健康币历史

- 收入记录
- 支出记录
- 余额变化
- 筛选功能（全部/收入/支出）

## 🎨 页面结构

### 1. 健康币主页 (`health-coin`)
- 余额展示
- 统计数据（累计获得、连续签到、累计消费）
- 每日任务列表
- 最近记录
- 前往商城按钮

### 2. 健康商城 (`health-mall`)
- 余额显示
- 分类筛选（全部、血压计、血糖仪、体温计、体脂秤、按摩器）
- 产品列表
- 产品详情
- 购买流程

### 3. 订单列表 (`order-list`)
- 订单卡片
- 订单状态
- 订单详情
- 取消订单

### 4. 健康币历史 (`coin-history`)
- 筛选标签
- 历史记录列表
- 收入/支出标识
- 余额显示

## 💡 使用流程

### 赚取健康币
1. 打开小程序，进入健康币页面
2. 点击"每日签到"按钮
3. 完成运动、饮食记录等任务
4. 查看健康币余额增加

### 购买商品
1. 点击"健康商城"按钮
2. 浏览或筛选商品
3. 点击商品查看详情
4. 确认购买（健康币+现金）
5. 等待发货

### 查看订单
1. 在商城页面点击"我的订单"
2. 查看订单状态
3. 可取消待发货订单
4. 查看订单详情

## 🔧 技术实现

### 核心工具类
`utils/healthCoinManager.js`
- 健康币管理
- 签到逻辑
- 奖励计算
- 交易记录

### 数据存储
所有数据存储在本地 `wx.storage`：
- `healthCoins`: 健康币余额
- `coinHistory`: 交易历史
- `checkInHistory`: 签到历史
- `orders`: 订单列表

### 页面文件
```
pages/
├── health-coin/          # 健康币主页
├── health-mall/          # 健康商城
├── order-list/           # 订单列表
└── coin-history/         # 健康币历史
```

## 🎯 激励机制设计

### 1. 即时反馈
- 签到动画（金币雨）
- 任务完成提示
- 余额实时更新

### 2. 长期激励
- 连续签到奖励递增
- 累计统计展示
- 成就感培养

### 3. 实用价值
- 真实商品兑换
- 优惠价格购买
- 九安医疗正品保障

## 📱 用户体验

### 视觉设计
- 金色主题（健康币）
- 清新绿色（健康主题）
- 动画效果（签到、购买）
- 卡片式布局

### 交互设计
- 一键签到
- 快速购买
- 订单管理
- 历史查询

## 🚀 未来扩展

### 可能的功能
1. **社交分享**: 分享赚健康币
2. **邀请奖励**: 邀请好友获得奖励
3. **会员等级**: 根据健康币累计设置等级
4. **限时活动**: 双倍健康币活动
5. **积分商城**: 更多商品选择
6. **健康挑战**: 完成挑战获得大额奖励

### 商业价值
1. **用户粘性**: 每日签到提高活跃度
2. **健康行为**: 激励用户坚持健康习惯
3. **商品销售**: 九安医疗产品推广
4. **数据价值**: 用户健康数据积累

## ✅ 测试指南

### 1. 签到测试
- 首次签到
- 重复签到（应提示已签到）
- 连续签到奖励

### 2. 任务测试
- 完成运动记录
- 完成饮食记录
- 完成体重记录
- 查看健康币增加

### 3. 购买测试
- 健康币不足提示
- 购买流程
- 订单生成
- 健康币扣除

### 4. 订单测试
- 查看订单列表
- 查看订单详情
- 取消订单
- 健康币退回

## 📞 技术支持

如有问题，请查看：
- 健康币规则说明
- 商城购物说明
- 订单管理帮助

---

**注意**: 本系统为演示版本，实际支付功能需要接入微信支付等真实支付渠道。
