# 🤖 AI助手 - 通义千问集成版

## 简介

AI减重助手现已集成阿里云通义千问大模型，提供更智能、更个性化的减重建议！

## 🌟 主要特性

- ✅ **真实AI对话**：使用通义千问大模型，智能理解和回答
- ✅ **个性化建议**：基于你的体重数据提供定制方案
- ✅ **双模式切换**：AI模式和本地模式随时切换
- ✅ **离线可用**：本地模式完全离线工作
- ✅ **安全可靠**：API Key本地存储，数据安全

## 📚 文档导航

### 快速开始
👉 [⚡通义千问快速配置.md](./⚡通义千问快速配置.md) - 3分钟快速配置指南

### 详细文档
👉 [🤖通义千问集成说明.md](./🤖通义千问集成说明.md) - 完整使用文档

### 测试工具
👉 [测试通义千问API.html](./测试通义千问API.html) - API测试工具

### 完成说明
👉 [✨通义千问集成完成.md](./✨通义千问集成完成.md) - 集成完成总结

## 🚀 快速开始（3步）

### 1️⃣ 获取API Key
访问 https://dashscope.aliyun.com 注册并获取API Key

### 2️⃣ 配置域名
开发阶段：微信开发者工具 → 详情 → 勾选"不校验合法域名"

### 3️⃣ 设置使用
打开AI助手 → 点击⚙️ → 输入API Key → 开始使用

## 💡 使用示例

### AI模式（推荐）
```
你：我想在3个月内减重10kg，给我制定计划
AI：根据你当前68kg的体重，目标58kg...
    [提供详细的个性化计划]
```

### 本地模式（快速）
```
你：如何快速减重？
AI：健康减重的关键是：
    1️⃣ 控制热量摄入...
    [提供预设的专业建议]
```

## 📊 功能对比

| 特性 | AI模式 | 本地模式 |
|------|--------|----------|
| 智能程度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 个性化 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 响应速度 | 2-5秒 | 秒回 |
| 网络要求 | 需要 | 不需要 |
| 费用 | 按量计费 | 免费 |

## 💰 费用说明

- **新用户**：免费100万tokens（够用很久）
- **日常使用**：约¥0.3/月
- **模型选择**：qwen-turbo（推荐，经济实惠）

## 🎯 适用场景

### 使用AI模式
- 需要个性化建议
- 复杂问题咨询
- 特殊情况处理
- 深度对话交流

### 使用本地模式
- 简单快速问答
- 离线使用
- 节省费用
- 基础知识查询

## 🔧 技术实现

### API集成
```javascript
// 调用通义千问API
wx.request({
  url: 'https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation',
  method: 'POST',
  header: {
    'Authorization': `Bearer ${apiKey}`
  },
  data: {
    model: 'qwen-turbo',
    input: { messages: [...] }
  }
})
```

### 个性化提示词
```javascript
const systemPrompt = `你是一个专业的AI减重助手。
用户信息：
- 当前体重：${currentWeight}kg
- 目标体重：${targetWeight}kg
- 已减重：${weightLost}kg
...`;
```

### 错误处理
```javascript
try {
  // 调用AI
  await callQianwenAPI();
} catch (error) {
  // 降级到本地模式
  useLocalKnowledge();
}
```

## 📱 界面说明

### 顶部状态栏
- 🤖/💬 当前模式指示
- ❓ 帮助指南
- ⚙️ API Key设置

### 聊天区域
- 消息气泡
- 时间戳
- 正在输入动画

### 底部操作
- 输入框
- 发送按钮
- 清空记录
- 模式切换

## ⚠️ 注意事项

### 安全
- 🔒 API Key本地存储
- 🚫 不要分享API Key
- 🔄 定期更换Key

### 使用
- 📶 AI模式需要网络
- 💾 本地模式离线可用
- 🔄 可随时切换模式

### 成本
- 💰 合理使用API
- 📊 监控使用量
- 🎁 利用免费额度

## 🐛 故障排查

### API调用失败
1. 检查API Key是否正确
2. 检查网络连接
3. 检查域名配置
4. 检查账户余额

### 回答不理想
1. 优化提问方式
2. 调整系统提示词
3. 尝试更强模型
4. 切换到本地模式

## 📞 获取帮助

- 📖 查看详细文档
- 🧪 使用测试工具
- 🌐 访问官方文档
- 💬 查看示例代码

## 🎉 开始使用

1. 打开微信开发者工具
2. 加载小程序项目
3. 进入AI助手页面
4. 设置API Key
5. 开始智能对话！

---

**享受AI带来的智能减重体验！** 🚀

更多信息请查看其他文档文件。
