# ⚡ 健康币系统快速测试指南

## 🎯 测试目标
验证健康币激励系统的完整功能，包括赚币、签到、购物和订单管理。

## 📱 测试步骤

### 第一步：查看健康币余额
1. 打开小程序
2. 在首页找到"健康币"卡片
3. 查看当前余额（新用户为0）
4. 点击卡片进入健康币页面

**预期结果**:
- 显示余额为0
- 显示每日任务列表
- 显示统计数据

### 第二步：每日签到
1. 在健康币页面
2. 点击"每日签到"任务
3. 观察签到动画（金币雨）
4. 查看签到成功提示

**预期结果**:
- 弹出签到成功提示
- 显示获得10健康币
- 显示连续签到1天
- 余额变为10
- 签到任务显示"✓"已完成

### 第三步：完成其他任务
1. 点击"完成运动"任务
2. 跳转到运动页面
3. 添加一条运动记录
4. 返回健康币页面

**预期结果**:
- 运动任务显示"✓"已完成
- 余额增加15健康币
- 总余额变为25

### 第四步：浏览健康商城
1. 点击"健康商城"按钮
2. 查看商品列表
3. 切换不同分类
4. 点击商品查看详情

**预期结果**:
- 显示九安医疗产品
- 显示价格和健康币
- 显示产品特点
- 显示库存状态

### 第五步：尝试购买（余额不足）
1. 选择一个商品（如血压计，需500币）
2. 点击"立即购买"
3. 查看提示信息

**预期结果**:
- 提示"健康币不足"
- 显示还需要多少健康币
- 提供"去赚币"选项

### 第六步：积累更多健康币
1. 返回首页
2. 完成饮食记录（+8币）
3. 完成体重记录（+5币）
4. 再次签到（第二天，+10币）

**预期结果**:
- 每完成一个任务，余额增加
- 可以在健康币历史中查看记录

### 第七步：成功购买商品
1. 当余额足够时（如300币）
2. 选择红外体温计
3. 点击"立即购买"
4. 确认支付信息
5. 完成购买

**预期结果**:
- 显示支付信息（现金¥99 + 健康币300）
- 购买成功提示
- 健康币扣除300
- 生成订单
- 跳转到订单列表

### 第八步：查看订单
1. 在订单列表页面
2. 查看刚才的订单
3. 点击"查看详情"
4. 查看订单信息

**预期结果**:
- 显示订单号
- 显示商品信息
- 显示支付信息
- 显示订单状态（待发货）

### 第九步：取消订单
1. 点击"取消订单"按钮
2. 确认取消
3. 查看健康币余额

**预期结果**:
- 订单状态变为"已取消"
- 健康币退回300
- 余额恢复

### 第十步：查看健康币历史
1. 返回健康币页面
2. 点击"查看全部"
3. 查看历史记录
4. 切换筛选（收入/支出）

**预期结果**:
- 显示所有交易记录
- 显示收入（签到、任务）
- 显示支出（购买、退款）
- 显示余额变化

## 🎨 连续签到测试

### 测试连续签到奖励
为了测试连续签到奖励，可以修改系统时间或等待实际天数：

**第3天签到**:
- 基础奖励: 10币
- 连续3天奖励: +20币
- 总计: 30币

**第7天签到**:
- 基础奖励: 10币
- 连续7天奖励: +50币
- 总计: 60币

**第30天签到**:
- 基础奖励: 10币
- 连续30天奖励: +200币
- 总计: 210币

## 📊 数据验证

### 检查数据存储
在微信开发者工具中：
1. 打开"Storage"面板
2. 查看"userData"
3. 验证以下字段：
   - `healthCoins`: 健康币余额
   - `coinHistory`: 交易历史数组
   - `checkInHistory`: 签到历史数组
   - `orders`: 订单数组

### 验证数据一致性
- 余额 = 总收入 - 总支出
- 签到历史记录完整
- 订单信息准确
- 交易历史可追溯

## 🐛 常见问题

### 1. 签到按钮无响应
**解决方案**: 检查是否今天已经签到过

### 2. 购买失败
**解决方案**: 
- 检查健康币余额是否足够
- 查看控制台错误信息

### 3. 订单不显示
**解决方案**: 
- 刷新页面
- 检查userData.orders数据

### 4. 健康币未增加
**解决方案**:
- 确认任务是否真正完成
- 检查coinHistory记录
- 查看控制台日志

## ✅ 测试检查清单

- [ ] 首页健康币卡片显示正常
- [ ] 每日签到功能正常
- [ ] 签到动画播放正常
- [ ] 连续签到天数计算正确
- [ ] 任务列表显示正常
- [ ] 任务完成状态更新
- [ ] 健康币余额实时更新
- [ ] 商城商品显示正常
- [ ] 分类筛选功能正常
- [ ] 商品详情显示完整
- [ ] 购买流程顺畅
- [ ] 余额不足提示正确
- [ ] 订单生成成功
- [ ] 订单列表显示正常
- [ ] 订单详情完整
- [ ] 取消订单功能正常
- [ ] 健康币退回正确
- [ ] 历史记录显示完整
- [ ] 筛选功能正常
- [ ] 数据持久化正常

## 🎯 性能测试

### 1. 页面加载速度
- 健康币页面 < 500ms
- 商城页面 < 800ms
- 订单页面 < 500ms

### 2. 动画流畅度
- 签到动画流畅
- 页面切换流畅
- 列表滚动流畅

### 3. 数据处理
- 大量历史记录加载正常
- 筛选响应快速
- 余额计算准确

## 📝 测试报告模板

```
测试日期: ____年__月__日
测试人员: ________
测试环境: 微信开发者工具 / 真机

功能测试:
✅ 签到功能
✅ 任务系统
✅ 商城浏览
✅ 购买流程
✅ 订单管理
✅ 历史记录

问题记录:
1. [问题描述]
2. [问题描述]

建议:
1. [改进建议]
2. [改进建议]

总体评价: ⭐⭐⭐⭐⭐
```

## 🚀 下一步

测试完成后，可以：
1. 体验完整的健康管理流程
2. 积累健康币购买真实商品
3. 分享给朋友一起使用
4. 提供反馈和建议

---

**提示**: 建议在真机上测试以获得最佳体验！
