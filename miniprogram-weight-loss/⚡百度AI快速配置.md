# ⚡ 百度AI食物识别 - 快速配置

## 🎯 为什么选择百度AI？

- ✅ **专门针对食物识别优化**
- ✅ **识别准确率最高（95%+）**
- ✅ **支持8000+种菜品**
- ✅ **每天500次免费额度**
- ✅ **配置简单，5分钟搞定**
- ✅ **返回营养信息**

## 🚀 5分钟快速配置

### 步骤1：注册百度智能云（2分钟）

1. 打开浏览器，访问：
   ```
   https://cloud.baidu.com/
   ```

2. 点击右上角"注册"或"登录"
   - 如果有百度账号，直接登录
   - 如果没有，注册一个新账号

3. 完成实名认证
   - 点击右上角头像 → 账号中心
   - 完成实名认证（需要身份证）

### 步骤2：创建应用（2分钟）

1. 进入AI控制台：
   ```
   https://console.bce.baidu.com/ai/
   ```

2. 在左侧菜单找到"图像识别"
   - 点击"图像识别"
   - 选择"菜品识别"

3. 点击"创建应用"按钮

4. 填写应用信息：
   - 应用名称：`减重小程序`（或任意名称）
   - 接口选择：勾选"菜品识别"
   - 应用归属：个人
   - 应用描述：可选

5. 点击"立即创建"

### 步骤3：获取密钥（1分钟）

1. 在应用列表中找到刚创建的应用

2. 查看应用详情，会看到：
   - **API Key**：类似 `abcdefghijklmnopqrstuvwxyz123456`
   - **Secret Key**：类似 `ABCDEFGHIJKLMNOPQRSTUVWXYZ123456`

3. 点击"显示"按钮，复制这两个密钥

### 步骤4：配置到小程序（1分钟）

1. 打开文件：
   ```
   utils/config.js
   ```

2. 找到这两行：
   ```javascript
   const BAIDU_API_KEY = 'YOUR_API_KEY_HERE';
   const BAIDU_SECRET_KEY = 'YOUR_SECRET_KEY_HERE';
   ```

3. 替换为你的密钥：
   ```javascript
   const BAIDU_API_KEY = 'abcdefghijklmnopqrstuvwxyz123456';
   const BAIDU_SECRET_KEY = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ123456';
   ```

4. 保存文件（Ctrl + S）

### 步骤5：测试（1分钟）

1. 在微信开发者工具中按 `Ctrl + B` 重新编译

2. 打开食物识别页面

3. 拍照识别一个食物

4. 打开控制台（Console），应该看到：
   ```
   使用百度AI食物识别
   百度AI识别响应: {...}
   识别成功：鸡胸肉
   ```

5. 成功！🎉

## 📸 测试用例

### 测试1：识别鸡胸肉
1. 准备一块鸡胸肉
2. 拍照识别
3. 预期结果：
   - 名称：鸡胸肉
   - 置信度：90%+
   - 热量：约165卡/100g

### 测试2：识别米饭
1. 准备一碗米饭
2. 拍照识别
3. 预期结果：
   - 名称：米饭
   - 置信度：95%+
   - 热量：约116卡/100g

### 测试3：识别苹果
1. 准备一个苹果
2. 拍照识别
3. 预期结果：
   - 名称：苹果
   - 置信度：90%+
   - 热量：约52卡/100g

## 🔍 验证配置

### 方法1：查看控制台
打开控制台，拍照识别后应该看到：
```
使用百度AI食物识别
获取百度Access Token成功
百度AI识别响应: {
  result: [{
    name: "鸡胸肉",
    probability: 0.95,
    calorie: 165
  }]
}
识别成功：鸡胸肉
```

### 方法2：查看识别结果
- **置信度**：通常在85-98%之间
- **食物名称**：准确的中文名称
- **识别速度**：1-2秒

## 💰 费用说明

### 免费额度
- **每天500次**免费调用
- 对于个人使用完全够用

### 超出后
- **0.003元/次**（3厘钱）
- 即使每天识别100次，一个月也只需要9元

### 成本计算
```
每天识别次数 × 30天 × 0.003元 = 月费用

示例：
- 每天10次：10 × 30 × 0.003 = 0.9元/月
- 每天50次：50 × 30 × 0.003 = 4.5元/月
- 每天100次：100 × 30 × 0.003 = 9元/月
```

## 🐛 常见问题

### Q1：提示"未配置API Key"
**原因**：config.js中的密钥没有替换

**解决**：
1. 检查config.js文件
2. 确保已替换为真实的密钥
3. 确保没有多余的空格
4. 保存文件并重新编译

### Q2：提示"获取Access Token失败"
**原因**：API Key或Secret Key错误

**解决**：
1. 重新复制密钥
2. 确保复制完整（包括所有字符）
3. 检查是否有多余的空格或换行
4. 重新配置

### Q3：识别失败或返回空结果
**原因**：
- 照片质量不好
- 光线不足
- 食物不清晰
- 不是食物图片

**解决**：
1. 重新拍照，注意拍照技巧
2. 确保光线充足
3. 让食物占据画面中心
4. 使用白色背景

### Q4：识别速度慢
**原因**：网络速度慢

**解决**：
- 使用更快的网络
- 百度AI通常1-2秒就能返回结果

### Q5：超出免费额度
**原因**：每天调用超过500次

**解决**：
1. 在百度云控制台充值
2. 或使用识别历史快速添加
3. 或使用手动选择功能

## 📊 识别效果

### 支持的食物类型
- ✅ 主食：米饭、面条、馒头、面包等
- ✅ 肉类：鸡肉、牛肉、猪肉、鱼肉等
- ✅ 蔬菜：西兰花、番茄、黄瓜、白菜等
- ✅ 水果：苹果、香蕉、橙子、葡萄等
- ✅ 蛋奶：鸡蛋、牛奶、酸奶、奶酪等
- ✅ 豆制品：豆腐、豆浆、豆腐干等
- ✅ 快餐：汉堡、披萨、炸鸡、薯条等
- ✅ 中餐：宫保鸡丁、红烧肉、麻婆豆腐等

### 识别准确率
- **常见食物**：95%+
- **家常菜**：90%+
- **复杂菜品**：85%+
- **单一食物**：识别效果最好

## 🎨 拍照技巧

### 好的照片
```
✅ 光线充足
✅ 食物清晰
✅ 占据画面中心
✅ 白色背景
✅ 单一食物
✅ 从正上方拍摄
```

### 不好的照片
```
❌ 光线太暗
❌ 食物模糊
❌ 食物太小
❌ 复杂背景
❌ 多种食物混合
❌ 角度太斜
```

## 🎯 配置检查清单

- [ ] 已注册百度智能云账号
- [ ] 已完成实名认证
- [ ] 已创建应用
- [ ] 已获取API Key和Secret Key
- [ ] 已配置到config.js
- [ ] 已保存文件
- [ ] 已重新编译
- [ ] 已测试识别功能
- [ ] 控制台显示"使用百度AI食物识别"
- [ ] 识别结果准确

## 📚 相关链接

- [百度智能云官网](https://cloud.baidu.com/)
- [百度AI控制台](https://console.bce.baidu.com/ai/)
- [菜品识别API文档](https://ai.baidu.com/ai-doc/IMAGERECOGNITION/Xk3bcxe21)
- [定价说明](https://ai.baidu.com/ai-doc/IMAGERECOGNITION/pricing)

## 🎉 配置完成

恭喜！你已经成功配置了百度AI食物识别。

现在你可以：
- ✅ 拍照识别食物
- ✅ 获得准确的食物名称
- ✅ 查看营养信息
- ✅ 添加到饮食记录

**识别准确率：95%+**
**识别速度：1-2秒**
**每天免费：500次**

开始使用吧！🎉

---

**需要帮助？**
如果配置过程中遇到问题，请查看"常见问题"部分或联系我。
