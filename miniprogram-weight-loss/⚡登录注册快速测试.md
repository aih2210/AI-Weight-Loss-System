# ⚡ 登录注册快速测试指南

## 🚀 快速开始

### 第一步：启动后端服务

```bash
# 进入后端目录
cd 项目测试/backend

# 启动服务
python main.py
```

看到以下信息表示启动成功：
```
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     Application startup complete.
```

### 第二步：打开小程序

1. 使用微信开发者工具打开项目
2. 项目路径：`E:\重要重要！！！\AI减重系统-项目测试\miniprogram-weight-loss`

### 第三步：测试注册

1. 进入"我的"页面
2. 点击"账号管理"
3. 点击"注册账号"按钮
4. 填写注册信息：
   ```
   用户名: testuser
   邮箱: test@example.com
   昵称: 测试用户
   密码: 123456
   确认密码: 123456
   ```
5. 点击"注册账号"
6. 看到"注册成功"提示

### 第四步：测试登录

1. 退出登录（如果已登录）
2. 点击"登录账号"按钮
3. 输入登录信息：
   ```
   用户名: testuser
   密码: 123456
   ```
4. 点击"登录"
5. 看到"登录成功"提示

## ✅ 测试检查清单

### 注册功能测试
- [ ] 用户名为空时提示"请输入用户名"
- [ ] 用户名少于3个字符时提示"用户名至少3个字符"
- [ ] 邮箱为空时提示"请输入邮箱"
- [ ] 邮箱格式错误时提示"邮箱格式不正确"
- [ ] 密码为空时提示"请输入密码"
- [ ] 密码少于6个字符时提示"密码至少6个字符"
- [ ] 两次密码不一致时提示"两次密码不一致"
- [ ] 注册成功后显示"注册成功"
- [ ] 注册成功后自动登录
- [ ] 重复用户名提示"用户名已存在"

### 登录功能测试
- [ ] 用户名为空时提示"请输入用户名"
- [ ] 密码为空时提示"请输入密码"
- [ ] 用户名或密码错误时提示"用户名或密码错误"
- [ ] 登录成功后显示"登录成功"
- [ ] 登录成功后返回上一页
- [ ] Token正确保存到本地
- [ ] 用户信息正确保存到本地

### 界面测试
- [ ] Tab切换动画流畅
- [ ] 表单输入正常
- [ ] 按钮点击响应
- [ ] 加载状态显示
- [ ] 错误提示清晰
- [ ] 样式美观统一

### 功能测试
- [ ] 记住我功能正常
- [ ] 忘记密码提示显示
- [ ] 跳过登录功能正常
- [ ] 服务条款链接显示

## 🎯 测试账号

### 测试账号1
```
用户名: testuser
密码: 123456
邮箱: test@example.com
```

### 测试账号2
```
用户名: demo
密码: demo123
邮箱: demo@example.com
```

## 🐛 常见测试问题

### 问题1：无法连接到服务器
**解决方案：**
1. 检查后端服务是否启动
2. 查看控制台是否有错误信息
3. 确认API地址配置正确（`utils/config.js`）

### 问题2：注册失败
**解决方案：**
1. 检查表单验证是否通过
2. 查看后端日志
3. 确认数据库连接正常

### 问题3：登录失败
**解决方案：**
1. 确认账号已注册
2. 检查用户名和密码是否正确
3. 查看后端日志

### 问题4：Token过期
**解决方案：**
1. Token默认30分钟过期
2. 过期后会自动跳转登录页
3. 重新登录即可

## 📊 测试数据

### 数据库查看

登录后端数据库查看用户数据：

```bash
# 进入后端目录
cd 项目测试/backend

# 启动Python
python

# 查看用户
from database import SessionLocal
from models.user import User

db = SessionLocal()
users = db.query(User).all()

for user in users:
    print(f"ID: {user.id}, 用户名: {user.username}, 邮箱: {user.email}")
```

### 清空测试数据

如需清空测试数据：

```bash
# 删除数据库文件
rm weight_loss.db

# 重启后端服务，会自动创建新数据库
python main.py
```

## 🎨 界面预览

### 登录页面
- Logo和标语
- 登录/注册Tab切换
- 用户名和密码输入框
- 记住我选项
- 忘记密码链接
- 登录按钮
- 跳过登录选项

### 注册页面
- Logo和标语
- 登录/注册Tab切换
- 用户名、邮箱、昵称输入框
- 密码和确认密码输入框
- 注册按钮
- 服务条款

## 📝 测试报告模板

```
测试时间：2025-12-27
测试人员：[姓名]
测试环境：微信开发者工具

【注册功能】
✅ 表单验证正常
✅ 注册成功
✅ 自动登录
✅ 数据保存正确

【登录功能】
✅ 表单验证正常
✅ 登录成功
✅ Token保存正确
✅ 用户信息获取正常

【界面测试】
✅ 样式美观
✅ 动画流畅
✅ 响应及时

【问题记录】
无

【总体评价】
功能完整，运行正常，可以上线使用。
```

## 🎉 测试完成

完成所有测试后，登录注册功能即可正式使用！

---

**测试版本**: v1.0
**更新时间**: 2025-12-27
